// This is where all of the layout modifications should live, anything that deviates from proto or base.

// Global
body {
	border-top: .25em solid $link-color;
	padding-top: 2em;
	margin: 0 0 2em;
	width: 100%;

	//FIX: Remove?
	// float: none !important;
	@include opentype;

	
}

p ,
ul,
ol,
figure.blockquote,
q {
	text-align: left;
	width: 60%;
	margin-left: auto;
	margin-right: auto;
}

ol {
	width: 58%;
	padding-left: 2%;
}

p + li {
	margin-top: .5em;

	&:first-child {
		margin-top: 0;
	}
}

nav ul {
	text-align: center;

	li a{
		color: $link-sub-color;

		&:hover {
			color: $link-sub-color-hover;
		}
	}
}

figure {
	&.hundred {
		margin-left: 0;
		margin-right: 0;

		& > img {
			box-shadow: 0px 0px 8px rgba(0,0,0,.075);
		}
	}

	&.pair {
		

		figcaption {
			clear: both;
			display: block;
		}
	}
}

section,
aside,
.lead,
.tags {
	margin-left: auto;
	margin-right: auto;
	max-width: 80em; // 1280px;
}

header {
	overflow: hidden;
}

footer p {
	width: 100%;
}

// What is this?
.name {
	color: $spice;
}

.home .lead {
	font-family: $sans;
	font-weight: 600;
	margin-top: 1em;
	-webkit-font-smoothing: antialiased;
	font-smoothing: antialiased;

	& + p {
		text-indent: 0;
	}
}

.inactive, 
.inactive:hover {
	color: lighten($link-sub-color, 40%);
}

.hero {
	@extend .block;
	max-width: none;
	padding-top: 1em;
	padding-bottom: 1em;
	text-align: center;

	p {
		text-align: center;
	}
}

.contact {
	margin-top: 2em;	
}

// Page specific

.home {
	text-align: center;
	color: $white;
	background-color: $green; // #575852;
	border-top-color: $green; // #ffe2c3; // $text-color;

	* {
		-webkit-font-smoothing: antialiased;
	}

	a {
		color: $white; // $yellow; // #fefefc;

		&:hover {
			color: $white; // $yellow; // #fefefc;
			border-bottom-color: $white; // $yellow; // #fefefc;

		}
	}

	header > nav {
		float: none !important;
	}

	.lead {
		color: $white; // $yellow; // #fefefc;
		width: 100%;

		& + p {
			margin-bottom: 1em;
		}
	}

	button,
	.button {
		border-color: $white;

		&:hover {
			color: $green !important;
			background-color: $cream;
		}
	}
}

.project-detail {
	blockquote {
		font-size: 1.4em;
		font-style: italic;
		line-height: 1.25em;
	}
}

// Width Med and Down  64.312em
@media (max-width: $width-med - 0.063em) {
	body {
		font-size: 125%;
	}

	section,
	aside {
		width: 75%;

		h2,
		h3,
		h4,
		h5,
		h6,
		p,
		ul {
			width: 95%;
			// width: 85%;
			max-width: 28em;
		}

		ol {
			// width: 90%;
			width: 80%;
			padding-left: 5%;
			max-width: 28em;
		}
	}

	footer ul {
		width: 80%;
	}

	// Project
	.project-detail {
		// h1 {
		// 	font-size: 3em !important; // 48px
		// }

		// h2 {
		// 	font-size: 2em !important; // 32 px
		// }

		// h3 {
		// 	font-size: 1.5em !important; // 24px
		// }

		// h1,
		// h2,
		// h3 {
		// 	margin-bottom: .5em !important;
		// }

		figure.full-bleed {
			margin-left: -7.5%;
			margin-right: -7.5%;
		}

		figure.pair {
			img {
				@include grid-columns(2, 1, 6%);
			}
		}

		.lead {
			// width: 100%;
			font-size: 1.25em;
		}

		.opening {
			width: 100%;
		}
	}
}

// Width Small  37.500em
@media (max-width: $width-sm) {
	body {
		font-size: 118%;
	}

	section,
	aside {
		width: 88%;

		&.hero,
		h2,
		h3,
		h4,
		h5,
		h6,
		& > p,
		ul {
			width: 100%;
		}

		ol {
			width: 95%;
			padding-left: 5%;
		}

		&.hero {
			// padding-top: 2em;
			background-size: 200% !important;
			background-position-y: 0% !important;
			padding-bottom: 1.5em;
		}
	}

	header nav {
		li:first-child {
			clear: both;
			display: block;
			margin-left: 0;
			margin-bottom: 0.5em;
			margin-right: 0;
		}
	}

	.project-list {
		section {
			float: none; // Why is this happening?
		}
	}

	.project-detail {
		figure {
			margin-left: -5%;
			margin-right: -5%;

			&.blockquote {
				margin-left: auto;
				margin-right: auto;
			}
		}

		section.opening {
			width: 100%;

			.lead,
			.tags {
				width: 88%;
			}
		}
	}

	// h3 {
	// 	font-size: 1.5em; // 24px
	// }
}

// Width X-Small  25.000em
@media (max-width:$width-xsm) {
	body {		
		// font-size: 100%;
		font-size: 112.5%;
	}

	h1 {
		font-size: 3em !important; // 48px
	}

	h2 {
		font-size: 2em !important; // 32 px
	}

	h3 {
		font-size: 1.5em !important; // 24px
	}

	h1,
	h2,
	h3 {
		margin-bottom: .25em !important;
	}

	// h1 {
	// 	font-size: 2.625em; // 42px
	// }

	// h2 {
	// 	font-size: 1.75em; // 28 px
	// }

	// h3 {
	// 	font-size: 1.25em;
	// }

	section,
	aside {
		width: 92% !important;

		&.hero {
			width: 100% !important;
		}
	}

	.project-list h2 {
		// font-size: 3.25em !important; // Move media queries into the individual page partials to fix this.
	}

	.project-detail {
		figure.full-bleed {
			margin-left: -2.5%;
			margin-right: -2.5%;
		}

		figure.pair {
			img {
				@include grid-columns(10, 7, auto);
			}
		}

		section.opening {
			width: 100% !important;

			.lead,
			.tags {
				width: 92% !important;
				// font-size: 1em !important;
			}
		}

		figcaption {
			width: 92%;
			margin-left: auto;
			margin-right: auto;
		}

		blockquote {
			// font-size: 1em !important;
		}
	}
}

// Width Med and Up  64.375em
@media (min-width: $width-med) {
	body {
		font-size: 137.5%;
	}

	section,
	aside,
	.opening .lead,
	.opening .tags {
		width: 90%;

		// &.hero,
		h2,
		h3,
		h4,
		h5,
		h6,
		& > p,
		ul {
			width: 85%;
			max-width: 28em;
		}

		ol {
			width: 80%;
			padding-left: 5%;
		}
	}

	.project-list section h2 {
		width: 100%;
		max-width: 34em;
	}

	h1 {
		letter-spacing: -.07rem;
	}

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		width: 60%;
	}

	.project-detail {
		figure.full-bleed {
			margin-left: -5%;
			margin-right: -5%;
		}

		figure.pair {
			img {
				@include grid-columns(2, 1, 10%);
			}
		}

		.lead {
			width: 80%;
			max-width: 26em;
		}

		.tags {
			width: 80%;
			max-width: 39.5em;
		}

		section.opening {
			width: 100%;
		}
	}

	// .nav-global {
	// 	u
	// }
}

// Width Large  75.000em
@media (min-width: $width-lg) {
	body {
		font-size: 150%;
	}

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		-webkit-font-smoothing: antialiased;
		-moz-font-smoothing: antialiased;
		font-smoothing: antialiased;
	}

	section,
	aside,
	.opening .lead,
	.opening .tags {
		// width: 70%;
		width: 78%;
	}

	.project-detail figure.full-bleed {
		margin-left: -15%;
		margin-right: -15%;
	}
}

// Width X-Large  103.125em
@media (min-width: $width-xlg) {
	body {
		font-size: 162.5%;	
	}

	section,
	aside {
		width: 62%;
		// width: 64%;
	}

	.opening .lead,
	.opening .tags {
		width: 56%;
	}

	.project-detail figure {
		margin-left: -8%;
		margin-right: -8%;

		&.hundred {
			margin-left: 0;
			margin-right: 0;
		}

		&.full-bleed {
			// margin-left: -31%;
			// margin-right: -31%;
			margin-left: -12%;
			margin-right: -12%;
		}

		&.blockquote {
			margin-left: auto;
			margin-right: auto;
		}
	}
}


// Height Short
@media (min-height: $height-sm) {
	.hero {
		height: 60%;
		// min-height: 18em;
		min-height: 14em;
	}
}

// Height Medium
@media (min-height: $height-med) {
	.hero {
		height: 60%;
		// min-height: 24em;
		min-height: 20em;
	}
}

// Height Tall
@media (min-height: $height-lg) {
	.hero {
		height: 60%;
		// min-height: 30em;
		min-height: 28em;
	}
}